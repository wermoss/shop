import { defineEventHandler } from "h3";

/**
 * Endpoint diagnostyczny do przechwytywania wszystkich Å¼Ä…daÅ„ HTTP
 * i zapisywania ich do logÃ³w - moÅ¼e pomÃ³c w debugowaniu problemÃ³w z webhookami
 */
export default defineEventHandler(async (event) => {
  const method = event.node.req.method;
  const url = event.node.req.url;
  const headers = event.node.req.headers;
  
  console.log(`ğŸ” [HTTP Debug] ${method} ${url}`);
  console.log(`ğŸ” [HTTP Debug] Headers:`, headers);
  
  // Zezwalamy na wszystkie Å¼Ä…dania, ale je logujemy
  return {
    success: true,
    message: "Request logged for debugging purposes",
    timestamp: new Date().toISOString()
  };
});
